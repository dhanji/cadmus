# Workflow: Full Project Health Check
# ====================================
# A 12-step pipeline that audits a project directory.
# Mixes fs_ops (walk, find, filter, sort, count) across the Seq domain.
#
# Type chain: Dir(Bytes) → Seq(Entry) → ... → Count

workflow: "Full project health check"

inputs:
  path: "~/src/cadmus"

steps:
  # Phase 1: Discovery
  - walk_tree
  - find_matching:
      pattern: "*.rs"

  # Phase 2: Analysis
  - filter:
      pattern: "test"
  - sort_by: name
  - unique

  # Phase 3: Metrics
  - count
