# Fact Pack: Racket Arithmetic Operators
# =======================================
# DESIGN PRINCIPLE: Zero cross-entity contamination.
# Every claim, evidence item, property, and uncertainty is scoped to
# exactly ONE entity on ONE axis. The engine derives all comparisons.
#
# Entity groups for meaningful comparison:
#   1. + vs - (additive pair — symmetric inverses)
#   2. * vs / (multiplicative pair — symmetric inverses)
#   3. All four share the "arithmetic" category axis
#
# Special properties:
#   - keyword_map: natural language word → operator symbol mapping
#   - racket_symbol: the actual Racket operator symbol
#   - symmetric_partner: the inverse operation's entity id
#
# The reasoner uses symmetric_partner properties + the metasignature
# of a known op to infer the signature of its partner.

entities:
  - id: op_add
    name: "+"
    description: "Addition operator — sums numeric values"
  - id: op_subtract
    name: "-"
    description: "Subtraction operator — computes difference of numeric values"
  - id: op_multiply
    name: "*"
    description: "Multiplication operator — computes product of numeric values"
  - id: op_divide
    name: "/"
    description: "Division operator — computes quotient of numeric values"

  # --- List operations ---
  - id: op_cons
    name: "cons"
    description: "Prepend element to list — (cons x lst)"
  - id: op_cdr
    name: "cdr"
    description: "Rest of list after first element — (cdr lst)"
  - id: op_remove
    name: "remove"
    description: "Remove first occurrence of element from list — (remove v lst)"
  - id: op_list_reverse
    name: "reverse"
    description: "Reverse element order of a list — (reverse lst)"

  # --- Comparison operations ---
  - id: op_less_than
    name: "<"
    description: "Numeric less-than comparison — (< a b)"
  - id: op_greater_than
    name: ">"
    description: "Numeric greater-than comparison — (> a b)"
  - id: op_less_than_or_equal
    name: "<="
    description: "Numeric less-than-or-equal comparison — (<= a b)"
  - id: op_greater_than_or_equal
    name: ">="
    description: "Numeric greater-than-or-equal comparison — (>= a b)"

  # --- String operations ---
  - id: op_string_upcase
    name: "string-upcase"
    description: "Convert string to uppercase — (string-upcase s)"
  - id: op_string_downcase
    name: "string-downcase"
    description: "Convert string to lowercase — (string-downcase s)"

  # --- Shell operations (CLI tool wrappers) ---
  # Anchors: shell_ls, shell_ps, shell_find, shell_grep, shell_du, shell_curl
  # Discovered via type-symmetric: shell_cat, shell_head, shell_tail, shell_sort, shell_df, shell_wc
  - id: op_shell_ls
    name: "shell-ls"
    description: "List directory contents via ls"
  - id: op_shell_cat
    name: "shell-cat"
    description: "Print file contents via cat"
  - id: op_shell_head
    name: "shell-head"
    description: "First N lines of file via head"
  - id: op_shell_tail
    name: "shell-tail"
    description: "Last N lines of file via tail"
  - id: op_shell_sort
    name: "shell-sort"
    description: "Sort lines of text via sort"
  - id: op_shell_ps
    name: "shell-ps"
    description: "List running processes via ps"
  - id: op_shell_df
    name: "shell-df"
    description: "Show filesystem disk usage via df"
  - id: op_shell_find
    name: "shell-find"
    description: "Walk directory tree via find"
  - id: op_shell_grep
    name: "shell-grep"
    description: "Search file contents via grep"
  - id: op_shell_du
    name: "shell-du"
    description: "Estimate file space usage via du"
  - id: op_shell_wc
    name: "shell-wc"
    description: "Count lines/words/bytes via wc"
  - id: op_shell_curl
    name: "shell-curl"
    description: "Download URL contents via curl"

  # --- New shell operations (Phase 3 migration) ---
  # Anchors: shell_mv, shell_git, shell_jq, shell_tmux, shell_ssh
  # Discovered via type-symmetric: shell_cp, shell_rm, shell_mkdir, shell_ln,
  #   shell_chmod, shell_chown, shell_tar, shell_rsync, shell_open, shell_tee,
  #   shell_stat, shell_shasum, shell_file, shell_uname, shell_uptime,
  #   shell_diff, shell_sed, shell_awk, shell_cut, shell_tr, shell_paste,
  #   shell_column, shell_base64, shell_mdfind, shell_xattr, shell_pbcopy,
  #   shell_pbpaste, shell_plutil, shell_lsof, shell_kill, shell_pkill,
  #   shell_watch, shell_yq, shell_screen, shell_scp, shell_nc, shell_ping,
  #   shell_dig, shell_gzip, shell_xz, shell_openssl
  - id: op_shell_mv
    name: "shell-mv"
    description: "Move/rename files via mv"
  - id: op_shell_cp
    name: "shell-cp"
    description: "Copy files via cp"
  - id: op_shell_rm
    name: "shell-rm"
    description: "Remove files via rm"
  - id: op_shell_mkdir
    name: "shell-mkdir"
    description: "Create directories via mkdir"
  - id: op_shell_ln
    name: "shell-ln"
    description: "Create links via ln"
  - id: op_shell_chmod
    name: "shell-chmod"
    description: "Change permissions via chmod"
  - id: op_shell_chown
    name: "shell-chown"
    description: "Change ownership via chown"
  - id: op_shell_tar
    name: "shell-tar"
    description: "Archive/extract via tar"
  - id: op_shell_rsync
    name: "shell-rsync"
    description: "Sync files via rsync"
  - id: op_shell_open
    name: "shell-open"
    description: "Open files via open (macOS)"
  - id: op_shell_tee
    name: "shell-tee"
    description: "Tee stdin to file and stdout"
  - id: op_shell_stat
    name: "shell-stat"
    description: "File metadata via stat"
  - id: op_shell_shasum
    name: "shell-shasum"
    description: "SHA hash via shasum"
  - id: op_shell_file
    name: "shell-file"
    description: "Detect file type via file"
  - id: op_shell_uname
    name: "shell-uname"
    description: "System info via uname"
  - id: op_shell_uptime
    name: "shell-uptime"
    description: "System uptime via uptime"
  - id: op_shell_diff
    name: "shell-diff"
    description: "Compare files via diff"
  - id: op_shell_sed
    name: "shell-sed"
    description: "Stream editing via sed"
  - id: op_shell_awk
    name: "shell-awk"
    description: "Text processing via awk"
  - id: op_shell_cut
    name: "shell-cut"
    description: "Extract fields via cut"
  - id: op_shell_tr
    name: "shell-tr"
    description: "Translate characters via tr"
  - id: op_shell_paste
    name: "shell-paste"
    description: "Merge lines via paste"
  - id: op_shell_column
    name: "shell-column"
    description: "Format columns via column"
  - id: op_shell_base64
    name: "shell-base64"
    description: "Base64 encode/decode"
  - id: op_shell_mdfind
    name: "shell-mdfind"
    description: "Spotlight search via mdfind (macOS)"
  - id: op_shell_xattr
    name: "shell-xattr"
    description: "Extended attributes via xattr (macOS)"
  - id: op_shell_pbcopy
    name: "shell-pbcopy"
    description: "Copy to clipboard via pbcopy (macOS)"
  - id: op_shell_pbpaste
    name: "shell-pbpaste"
    description: "Paste from clipboard via pbpaste (macOS)"
  - id: op_shell_plutil
    name: "shell-plutil"
    description: "Plist operations via plutil (macOS)"
  - id: op_shell_lsof
    name: "shell-lsof"
    description: "List open files via lsof"
  - id: op_shell_kill
    name: "shell-kill"
    description: "Send signals via kill"
  - id: op_shell_pkill
    name: "shell-pkill"
    description: "Kill by pattern via pkill"
  - id: op_shell_watch
    name: "shell-watch"
    description: "Periodic execution via watch"
  - id: op_shell_git
    name: "shell-git"
    description: "Version control via git"
  - id: op_shell_jq
    name: "shell-jq"
    description: "JSON processing via jq"
  - id: op_shell_yq
    name: "shell-yq"
    description: "YAML processing via yq"
  - id: op_shell_tmux
    name: "shell-tmux"
    description: "Terminal multiplexer via tmux"
  - id: op_shell_screen
    name: "shell-screen"
    description: "Terminal multiplexer via screen"
  - id: op_shell_ssh
    name: "shell-ssh"
    description: "Remote execution via ssh"
  - id: op_shell_scp
    name: "shell-scp"
    description: "Secure copy via scp"
  - id: op_shell_nc
    name: "shell-nc"
    description: "Network connections via nc"
  - id: op_shell_ping
    name: "shell-ping"
    description: "Network ping"
  - id: op_shell_dig
    name: "shell-dig"
    description: "DNS lookup via dig"
  - id: op_shell_gzip
    name: "shell-gzip"
    description: "Compress/decompress via gzip"
  - id: op_shell_xz
    name: "shell-xz"
    description: "Compress/decompress via xz"
  - id: op_shell_openssl
    name: "shell-openssl"
    description: "Cryptographic operations via openssl"

# ---------------------------------------------------------------------------
# Axes
# ---------------------------------------------------------------------------
axes:
  - id: category
    name: "Category"
    description: "Mathematical category of the operation"
    polarity: capability
    sub_axes: []

  - id: type_signature
    name: "Type Signature"
    description: "Input and output types of the operation"
    polarity: capability
    sub_axes: []

  - id: algebraic_properties
    name: "Algebraic Properties"
    description: "Commutativity, associativity, identity elements"
    polarity: capability
    sub_axes: []

  - id: keywords
    name: "Keywords"
    description: "Natural language words that map to this operator"
    polarity: capability
    sub_axes: []

  - id: symmetry
    name: "Symmetry"
    description: "Inverse/symmetric relationships between operators"
    polarity: capability
    sub_axes: []

  - id: type_symmetry
    name: "Type Symmetry"
    description: "Groups ops with the same type shape — inference within a class is gated by category"
    polarity: capability
    sub_axes: []

# ---------------------------------------------------------------------------
# Claims — per-entity, per-axis assertions
# ---------------------------------------------------------------------------
claims:
  # --- Category claims ---
  - id: add_category
    entity: op_add
    axis: category
    text: "Addition is a fundamental arithmetic operation"

  - id: sub_category
    entity: op_subtract
    axis: category
    text: "Subtraction is a fundamental arithmetic operation, inverse of addition"

  - id: mul_category
    entity: op_multiply
    axis: category
    text: "Multiplication is a fundamental arithmetic operation"

  - id: div_category
    entity: op_divide
    axis: category
    text: "Division is a fundamental arithmetic operation, inverse of multiplication"

  # --- Type signature claims ---
  - id: add_type
    entity: op_add
    axis: type_signature
    text: "Takes two or more Number arguments and returns a Number"

  - id: sub_type
    entity: op_subtract
    axis: type_signature
    text: "Takes two Number arguments and returns a Number"

  - id: mul_type
    entity: op_multiply
    axis: type_signature
    text: "Takes two or more Number arguments and returns a Number"

  - id: div_type
    entity: op_divide
    axis: type_signature
    text: "Takes two Number arguments and returns a Number"

  # --- Algebraic property claims ---
  - id: add_algebra
    entity: op_add
    axis: algebraic_properties
    text: "Addition is commutative and associative with identity element 0"

  - id: sub_algebra
    entity: op_subtract
    axis: algebraic_properties
    text: "Subtraction is neither commutative nor associative"

  - id: mul_algebra
    entity: op_multiply
    axis: algebraic_properties
    text: "Multiplication is commutative and associative with identity 1 and absorbing element 0"

  - id: div_algebra
    entity: op_divide
    axis: algebraic_properties
    text: "Division is neither commutative nor associative"

  # --- Keyword claims ---
  - id: add_keywords
    entity: op_add
    axis: keywords
    text: "Known as: add, addition, plus, sum, total, combine"

  - id: sub_keywords
    entity: op_subtract
    axis: keywords
    text: "Known as: subtract, subtraction, minus, difference, take away, deduct"

  - id: mul_keywords
    entity: op_multiply
    axis: keywords
    text: "Known as: multiply, multiplication, times, product"

  - id: div_keywords
    entity: op_divide
    axis: keywords
    text: "Known as: divide, division, quotient, split"

  # --- Symmetry claims ---
  - id: add_symmetry
    entity: op_add
    axis: symmetry
    text: "Addition and subtraction are symmetric inverse operations"

  - id: sub_symmetry
    entity: op_subtract
    axis: symmetry
    text: "Subtraction is the inverse of addition"

  - id: mul_symmetry
    entity: op_multiply
    axis: symmetry
    text: "Multiplication and division are symmetric inverse operations"

  - id: div_symmetry
    entity: op_divide
    axis: symmetry
    text: "Division is the inverse of multiplication"

# ---------------------------------------------------------------------------
# Evidence
# ---------------------------------------------------------------------------
evidence:
  - id: ev_add_comm
    supports: add_algebra
    text: "a + b = b + a for all numbers a, b"
    source: "Peano axioms"

  - id: ev_add_assoc
    supports: add_algebra
    text: "(a + b) + c = a + (b + c) for all numbers a, b, c"
    source: "Peano axioms"

  - id: ev_add_identity
    supports: add_algebra
    text: "a + 0 = a for all numbers a"
    source: "Peano axioms"

  - id: ev_mul_comm
    supports: mul_algebra
    text: "a * b = b * a for all numbers a, b"
    source: "Ring axioms"

  - id: ev_mul_assoc
    supports: mul_algebra
    text: "(a * b) * c = a * (b * c) for all numbers a, b, c"
    source: "Ring axioms"

  - id: ev_mul_identity
    supports: mul_algebra
    text: "a * 1 = a for all numbers a"
    source: "Ring axioms"

  - id: ev_mul_absorb
    supports: mul_algebra
    text: "a * 0 = 0 for all numbers a"
    source: "Ring axioms"

  - id: ev_sub_inverse
    supports: sub_symmetry
    text: "a - b = a + (-b); subtraction undoes addition"
    source: "Group theory"

  - id: ev_div_inverse
    supports: div_symmetry
    text: "a / b = a * (1/b); division undoes multiplication"
    source: "Field theory"

# ---------------------------------------------------------------------------
# Properties — structured key-value data for the reasoner
# ---------------------------------------------------------------------------
compact_properties:
  op_add:
    category:
      category_name:
        value: arithmetic
        ordinal: 1
    keywords:
      keyword_add: add
      keyword_addition: addition
      keyword_combine: combine
      keyword_plus: plus
      keyword_sum: sum
      keyword_total: total
    symmetry:
      symmetric_partner: op_subtract
    type_signature:
      op_name: add
      racket_symbol: "+"
    type_symmetry:
      type_symmetry_class: binop
  op_cdr:
    category:
      category_name: list
    type_signature:
      op_name: cdr
      racket_symbol: cdr
    type_symmetry:
      type_symmetry_class: list_to_list
  op_cons:
    category:
      category_name: list
    type_signature:
      op_name: cons
      racket_symbol: cons
    type_symmetry:
      type_symmetry_class: list_elem_to_list
  op_divide:
    category:
      category_name:
        value: arithmetic
        ordinal: 1
    keywords:
      keyword_divide: divide
      keyword_division: division
      keyword_quotient: quotient
    symmetry:
      symmetric_partner: op_multiply
    type_signature:
      op_name: divide
      racket_symbol: "/"
    type_symmetry:
      type_symmetry_class: binop
  op_greater_than:
    category:
      category_name: comparison
    symmetry:
      symmetric_partner: op_less_than
    type_signature:
      op_name: greater_than
      racket_symbol: ">"
    type_symmetry:
      type_symmetry_class: comparison_binop
  op_greater_than_or_equal:
    category:
      category_name: comparison
    type_signature:
      op_name: greater_than_or_equal
      racket_symbol: ">="
    type_symmetry:
      type_symmetry_class: comparison_binop
  op_less_than:
    category:
      category_name: comparison
    symmetry:
      symmetric_partner: op_greater_than
    type_signature:
      op_name: less_than
      racket_symbol: "<"
    type_symmetry:
      type_symmetry_class: comparison_binop
  op_less_than_or_equal:
    category:
      category_name: comparison
    type_signature:
      op_name: less_than_or_equal
      racket_symbol: "<="
    type_symmetry:
      type_symmetry_class: comparison_binop
  op_list_reverse:
    category:
      category_name: list
    type_signature:
      op_name: list_reverse
      racket_symbol: reverse
    type_symmetry:
      type_symmetry_class: list_to_list
  op_multiply:
    category:
      category_name:
        value: arithmetic
        ordinal: 1
    keywords:
      keyword_multiplication: multiplication
      keyword_multiply: multiply
      keyword_product: product
      keyword_times: times
    symmetry:
      symmetric_partner: op_divide
    type_signature:
      op_name: multiply
      racket_symbol: "*"
    type_symmetry:
      type_symmetry_class: binop
  op_remove:
    category:
      category_name: list
    type_signature:
      op_name: remove
      racket_symbol: remove
    type_symmetry:
      type_symmetry_class: list_elem_to_list
  op_shell_awk:
    category:
      category_name: shell
    type_signature:
      op_name: shell_awk
      racket_symbol: shell-awk
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_base64:
    category:
      category_name: shell
    type_signature:
      op_name: shell_base64
      racket_symbol: shell-base64
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_cat:
    category:
      category_name: shell
    type_signature:
      op_name: shell_cat
      racket_symbol: shell-cat
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_chmod:
    category:
      category_name: shell
    type_signature:
      op_name: shell_chmod
      racket_symbol: shell-chmod
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_chown:
    category:
      category_name: shell
    type_signature:
      op_name: shell_chown
      racket_symbol: shell-chown
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_column:
    category:
      category_name: shell
    type_signature:
      op_name: shell_column
      racket_symbol: shell-column
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_cp:
    category:
      category_name: shell
    type_signature:
      op_name: shell_cp
      racket_symbol: shell-cp
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_curl:
    category:
      category_name: shell
    type_signature:
      op_name: shell_curl
      racket_symbol: shell-curl
    type_symmetry:
      type_symmetry_class: shell_byte_stream
  op_shell_cut:
    category:
      category_name: shell
    type_signature:
      op_name: shell_cut
      racket_symbol: shell-cut
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_df:
    category:
      category_name: shell
    type_signature:
      op_name: shell_df
      racket_symbol: shell-df
    type_symmetry:
      type_symmetry_class: shell_tabular
  op_shell_diff:
    category:
      category_name: shell
    type_signature:
      op_name: shell_diff
      racket_symbol: shell-diff
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_dig:
    category:
      category_name: shell
    type_signature:
      op_name: shell_dig
      racket_symbol: shell-dig
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_du:
    category:
      category_name: shell
    type_signature:
      op_name: shell_du
      racket_symbol: shell-du
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_file:
    category:
      category_name: shell
    type_signature:
      op_name: shell_file
      racket_symbol: shell-file
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_find:
    category:
      category_name: shell
    type_signature:
      op_name: shell_find
      racket_symbol: shell-find
    type_symmetry:
      type_symmetry_class: shell_tree
  op_shell_git:
    category:
      category_name: shell
    type_signature:
      op_name: shell_git
      racket_symbol: shell-git
    type_symmetry:
      type_symmetry_class: shell_vcs
  op_shell_grep:
    category:
      category_name: shell
    type_signature:
      op_name: shell_grep
      racket_symbol: shell-grep
    type_symmetry:
      type_symmetry_class: shell_filtered_lines
  op_shell_gzip:
    category:
      category_name: shell
    type_signature:
      op_name: shell_gzip
      racket_symbol: shell-gzip
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_head:
    category:
      category_name: shell
    type_signature:
      op_name: shell_head
      racket_symbol: shell-head
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_jq:
    category:
      category_name: shell
    type_signature:
      op_name: shell_jq
      racket_symbol: shell-jq
    type_symmetry:
      type_symmetry_class: shell_structured
  op_shell_kill:
    category:
      category_name: shell
    type_signature:
      op_name: shell_kill
      racket_symbol: shell-kill
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_ln:
    category:
      category_name: shell
    type_signature:
      op_name: shell_ln
      racket_symbol: shell-ln
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_ls:
    category:
      category_name: shell
    type_signature:
      op_name: shell_ls
      racket_symbol: shell-ls
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_lsof:
    category:
      category_name: shell
    type_signature:
      op_name: shell_lsof
      racket_symbol: shell-lsof
    type_symmetry:
      type_symmetry_class: shell_tabular
  op_shell_mdfind:
    category:
      category_name: shell
    type_signature:
      op_name: shell_mdfind
      racket_symbol: shell-mdfind
    type_symmetry:
      type_symmetry_class: shell_tree
  op_shell_mkdir:
    category:
      category_name: shell
    type_signature:
      op_name: shell_mkdir
      racket_symbol: shell-mkdir
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_mv:
    category:
      category_name: shell
    type_signature:
      op_name: shell_mv
      racket_symbol: shell-mv
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_nc:
    category:
      category_name: shell
    type_signature:
      op_name: shell_nc
      racket_symbol: shell-nc
    type_symmetry:
      type_symmetry_class: shell_network
  op_shell_open:
    category:
      category_name: shell
    type_signature:
      op_name: shell_open
      racket_symbol: shell-open
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_openssl:
    category:
      category_name: shell
    type_signature:
      op_name: shell_openssl
      racket_symbol: shell-openssl
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_paste:
    category:
      category_name: shell
    type_signature:
      op_name: shell_paste
      racket_symbol: shell-paste
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_pbcopy:
    category:
      category_name: shell
    type_signature:
      op_name: shell_pbcopy
      racket_symbol: shell-pbcopy
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_pbpaste:
    category:
      category_name: shell
    type_signature:
      op_name: shell_pbpaste
      racket_symbol: shell-pbpaste
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_ping:
    category:
      category_name: shell
    type_signature:
      op_name: shell_ping
      racket_symbol: shell-ping
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_pkill:
    category:
      category_name: shell
    type_signature:
      op_name: shell_pkill
      racket_symbol: shell-pkill
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_plutil:
    category:
      category_name: shell
    type_signature:
      op_name: shell_plutil
      racket_symbol: shell-plutil
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_ps:
    category:
      category_name: shell
    type_signature:
      op_name: shell_ps
      racket_symbol: shell-ps
    type_symmetry:
      type_symmetry_class: shell_tabular
  op_shell_rm:
    category:
      category_name: shell
    type_signature:
      op_name: shell_rm
      racket_symbol: shell-rm
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_rsync:
    category:
      category_name: shell
    type_signature:
      op_name: shell_rsync
      racket_symbol: shell-rsync
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_scp:
    category:
      category_name: shell
    type_signature:
      op_name: shell_scp
      racket_symbol: shell-scp
    type_symmetry:
      type_symmetry_class: shell_network
  op_shell_screen:
    category:
      category_name: shell
    type_signature:
      op_name: shell_screen
      racket_symbol: shell-screen
    type_symmetry:
      type_symmetry_class: shell_session
  op_shell_sed:
    category:
      category_name: shell
    type_signature:
      op_name: shell_sed
      racket_symbol: shell-sed
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_shasum:
    category:
      category_name: shell
    type_signature:
      op_name: shell_shasum
      racket_symbol: shell-shasum
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_sort:
    category:
      category_name: shell
    type_signature:
      op_name: shell_sort
      racket_symbol: shell-sort
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_ssh:
    category:
      category_name: shell
    type_signature:
      op_name: shell_ssh
      racket_symbol: shell-ssh
    type_symmetry:
      type_symmetry_class: shell_network
  op_shell_stat:
    category:
      category_name: shell
    type_signature:
      op_name: shell_stat
      racket_symbol: shell-stat
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_tail:
    category:
      category_name: shell
    type_signature:
      op_name: shell_tail
      racket_symbol: shell-tail
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_tar:
    category:
      category_name: shell
    type_signature:
      op_name: shell_tar
      racket_symbol: shell-tar
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_tee:
    category:
      category_name: shell
    type_signature:
      op_name: shell_tee
      racket_symbol: shell-tee
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_tmux:
    category:
      category_name: shell
    type_signature:
      op_name: shell_tmux
      racket_symbol: shell-tmux
    type_symmetry:
      type_symmetry_class: shell_session
  op_shell_tr:
    category:
      category_name: shell
    type_signature:
      op_name: shell_tr
      racket_symbol: shell-tr
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_uname:
    category:
      category_name: shell
    type_signature:
      op_name: shell_uname
      racket_symbol: shell-uname
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_uptime:
    category:
      category_name: shell
    type_signature:
      op_name: shell_uptime
      racket_symbol: shell-uptime
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_watch:
    category:
      category_name: shell
    type_signature:
      op_name: shell_watch
      racket_symbol: shell-watch
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_wc:
    category:
      category_name: shell
    type_signature:
      op_name: shell_wc
      racket_symbol: shell-wc
    type_symmetry:
      type_symmetry_class: shell_single_value
  op_shell_xattr:
    category:
      category_name: shell
    type_signature:
      op_name: shell_xattr
      racket_symbol: shell-xattr
    type_symmetry:
      type_symmetry_class: shell_text_lines
  op_shell_xz:
    category:
      category_name: shell
    type_signature:
      op_name: shell_xz
      racket_symbol: shell-xz
    type_symmetry:
      type_symmetry_class: shell_exec
  op_shell_yq:
    category:
      category_name: shell
    type_signature:
      op_name: shell_yq
      racket_symbol: shell-yq
    type_symmetry:
      type_symmetry_class: shell_structured
  op_string_downcase:
    category:
      category_name: string
    type_signature:
      op_name: string_downcase
      racket_symbol: string-downcase
    type_symmetry:
      type_symmetry_class: string_to_string
  op_string_upcase:
    category:
      category_name: string
    type_signature:
      op_name: string_upcase
      racket_symbol: string-upcase
    type_symmetry:
      type_symmetry_class: string_to_string
  op_subtract:
    category:
      category_name:
        value: arithmetic
        ordinal: 1
    keywords:
      keyword_deduct: deduct
      keyword_difference: difference
      keyword_minus: minus
      keyword_subtract: subtract
      keyword_subtraction: subtraction
    symmetry:
      symmetric_partner: op_add
    type_signature:
      op_name: subtract
      racket_symbol: "-"
    type_symmetry:
      type_symmetry_class: binop
relations:
  # Ordinal: all four ops share the same category ordinal (arithmetic)
  - kind: ordinal
    id: rel_category_ordinal
    axis: category
    property_key: category_name
    direction: higher_is_more
    note: "All four operators are in the same arithmetic category"

# ---------------------------------------------------------------------------
# Uncertainties
# ---------------------------------------------------------------------------
uncertainties:
  - axis: type_signature
    text: "Division by zero is undefined; the type signature does not capture this precondition."
  - axis: symmetry
    text: "Symmetric inference transfers type structure but not semantic invariants (e.g., y>0 => x+y>x does not hold for subtraction)."
  - axis: type_symmetry
    text: "Type-symmetric inference transfers type structure within a class+category group but drops all invariants. Weaker than op-symmetric inference (no inverse relationship assumed)."
  - axis: type_symmetry
    text: "Shell type-symmetric inference groups CLI tools by output format. Tools in the same class produce structurally similar output (lines of text) but with different semantics."
