# Plan: Full Codebase Audit (Racket)
# =======================================
# A 20-step pipeline using only ops the Racket backend handles.
# All ops are polymorphic over Seq(Entry(Name, Bytes)).
#
# walk_tree → shell bridge (find)
# find_matching, filter → Racket-native (filter + regexp-match?)
# sort_by → Racket-native (sort string<?)
# unique → Racket-native (remove-duplicates)
# count → Racket-native (length)

codebase-audit-racket:
  inputs:
    - path
  steps:
    - walk_tree
    - find_matching:
        pattern: "*.rs"
    - filter:
        pattern: "test"
    - sort_by: name
    - unique
    - filter:
        pattern: "integration"
    - sort_by: name
    - unique
    - filter:
        pattern: "nl"
    - sort_by: name
    - unique
    - filter:
        pattern: "stress"
    - sort_by: name
    - unique
    - filter:
        pattern: "pipeline"
    - sort_by: name
    - unique
    - sort_by: name
    - unique
    - count
