# Collatz sequence: start at n, if even n/2, if odd 3n+1, until 1
# Example: collatz(6) = (6 3 10 5 16 8 4 2 1)
# expected: (6 3 10 5 16 8 4 2 1)

collatz_sequence:
  inputs:
    - n: "Number"
  bindings:
    n: "6"
  steps:
    - iterate:
        name: "loop"
        bindings: "x=n acc=(list)"
        body: "(let ([acc (append acc (list x))]) (if (= x 1) acc (loop (if (even? x) (/ x 2) (+ (* 3 x) 1)) acc)))"
