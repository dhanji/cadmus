# Gray code: generate n-bit Gray code sequence
# Example: gray(3) = (0 1 3 2 6 7 5 4)
# expected: (0 1 3 2 6 7 5 4)

gray_code:
  inputs:
    - n: "Number"
  bindings:
    n: "3"
  steps:
    - expt:
        x: "2"
        y: "$n"
    - for_list:
        var: "i"
        start: "0"
        end: "$step-1"
        body:
          - bitwise_xor:
              x: "$i"
              y:
                arithmetic_shift:
                  x: "$i"
                  y: "-1"
