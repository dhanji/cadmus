# Euler's totient: count integers 1..n coprime to n
# Example: phi(12) = 4 (1, 5, 7, 11)
# expected: 4

euler_totient:
  inputs:
    - n: "Number"
  bindings:
    n: "12"
  steps:
    - range:
        start: "1"
        end: "$n"
    - for_sum:
        var: "i"
        over: "$step-1"
        body:
          - gcd:
              x: "$i"
              y: "$n"
          - cond:
              clauses:
                - test:
                    equal:
                      x: "$body-1"
                      y: "1"
                  then: "1"
                - else: "0"
