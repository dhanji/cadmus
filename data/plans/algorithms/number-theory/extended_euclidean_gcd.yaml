# Extended Euclidean GCD: find x,y such that ax + by = gcd(a,b)
# Example: ext_gcd(48, 18) = (6 -1 3) meaning 48*(-1) + 18*3 = 6
# expected: (6 -1 3)

extended_euclidean_gcd:
  inputs:
    - a: "Number"
    - b: "Number"
  bindings:
    a: "48"
    b: "18"
  steps:
    - iterate:
        name: "loop"
        bindings: "old-r=a r=b old-s=1 s=0 old-t=0 t=1"
        body: "(if (= r 0) (list old-r old-s old-t) (let ([q (quotient old-r r)]) (loop r (- old-r (* q r)) s (- old-s (* q s)) t (- old-t (* q t)))))"
