# 0/1 Knapsack: maximize value within weight capacity
# Items: (weight, value) = (1,1) (3,4) (4,5) (5,7), capacity 7
# Example: max value = 9 (items 2+3: weight 3+4=7, value 4+5=9)
# expected: 9

zero_one_knapsack:
  inputs:
    - capacity: "Number"
  bindings:
    capacity: "7"
  steps:
    - let_bind:
        bindings: "[weights (vector 1 3 4 5)] [values (vector 1 4 5 7)] [n 4] [dp (make-vector (+ capacity 1) 0)]"
        body: "(begin (for ([i (in-range n)]) (for ([w (in-range capacity (- (vector-ref weights i) 1) -1)]) (vector-set! dp w (max (vector-ref dp w) (+ (vector-ref values i) (vector-ref dp (- w (vector-ref weights i)))))))) (vector-ref dp capacity))"
