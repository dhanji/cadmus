# Median of two sorted arrays
# Example: median of (1 3) and (2) = 2
# expected: 2

median_two_sorted_arrays:
  inputs:
    - a: "List(Number)"
    - b: "List(Number)"
  bindings:
    a: "(list 1 3)"
    b: "(list 2)"
  steps:
    - let_bind:
        bindings: "[merged (let merge ([a a] [b b] [acc (list)]) (cond [(null? a) (append (reverse acc) b)] [(null? b) (append (reverse acc) a)] [(<= (car a) (car b)) (merge (cdr a) b (cons (car a) acc))] [else (merge a (cdr b) (cons (car b) acc))]))] [n (+ (length a) (length b))]"
        body: "(if (odd? n) (list-ref merged (quotient n 2)) (/ (+ (list-ref merged (- (quotient n 2) 1)) (list-ref merged (quotient n 2))) 2))"
