# prompt: "find the kth smallest element using quickselect"
#
# Quickselect (Hoare's Selection Algorithm)
# ==========================================
# Find the kth smallest element in an unsorted array without fully
# sorting it. Based on the partition step of quicksort.
#
# Time:  O(n) average; O(nÂ²) worst case
# Space: O(1) in-place
#
# Algorithm:
#   quickselect(arr, k):
#     pivot = arr[random]
#     partition arr into: less, equal, greater
#     if k <= len(less): return quickselect(less, k)
#     elif k <= len(less) + len(equal): return pivot
#     else: return quickselect(greater, k - len(less) - len(equal))
#
# Example: [3, 2, 1, 5, 6, 4], k=2
#   2nd smallest = 2
#
# Median of medians variant guarantees O(n) worst case.

quickselect:
  inputs:
    - lst: "List(Number)"
    - k: "Number"
  steps:
    # Partition around pivot, recurse on the relevant side only.
    - list_new:
        elements: "3 2 1 5 6 4"
    # k=2: 2nd smallest = 2. Average O(n).
    - sort_list:
        comparator: "<"
