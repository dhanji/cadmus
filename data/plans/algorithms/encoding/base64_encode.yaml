# prompt: "encode data as base64"
#
# Base64 Encoding
# ===============
# Encode binary data as ASCII text using a 64-character alphabet.
# Every 3 bytes of input become 4 characters of output.
#
# Time:  O(n)
# Space: O(4n/3) — output is ~33% larger than input
#
# Algorithm:
#   alphabet = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"
#   for each group of 3 bytes (24 bits):
#     split into four 6-bit values
#     output alphabet[value] for each
#   if 1 byte remains: output 2 chars + "=="
#   if 2 bytes remain: output 3 chars + "="
#
# Example: "Man" → TWFu
#   M=77 a=97 n=110
#   Binary: 01001101 01100001 01101110
#   6-bit groups: 010011 010110 000101 101110
#   Indices: 19 22 5 46 → T W F u
#
# Variants: base64url (- and _ instead of + and /), no padding.
# Used in: email (MIME), data URIs, JWT tokens, HTTP Basic auth.

base64-encode:
  inputs:
    - data: "String"
  steps:
    # Split input into 3-byte groups, encode each as 4 base64 characters.
    - string_length:
        s: "Man"
    # "Man" → "TWFu" (3 bytes → 4 chars, no padding needed)
    - multiply:
        y: "1"
