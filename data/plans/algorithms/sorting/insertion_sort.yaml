# Insertion sort
# Example: sort (5 3 8 1 9 2 7 4 6) = (1 2 3 4 5 6 7 8 9)
# expected: (1 2 3 4 5 6 7 8 9)

insertion_sort:
  inputs:
    - lst: "List(Number)"
  bindings:
    lst: "(list 5 3 8 1 9 2 7 4 6)"
  steps:
    - for_fold:
        bindings: "[sorted (list)]"
        var: "x"
        sequence: "(in-list lst)"
        body: "(let loop ([s sorted] [acc (list)]) (cond [(null? s) (append (reverse acc) (list x))] [(<= x (car s)) (append (reverse acc) (cons x s))] [else (loop (cdr s) (cons (car s) acc))]))"
